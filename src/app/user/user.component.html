<!-- User container -->
<mat-card>
  <mat-card-header>
    <div mat-card-avatar class="example-header-image" [style.background-image]="user.getMeta().getAvatar_url()"></div>
    <mat-card-title>{{user.getMeta().getName()}} {{user.getMeta().getLogin()}}</mat-card-title>
    <mat-card-subtitle>{{user.getAccess()}}</mat-card-subtitle>
  </mat-card-header>
  <mat-tab-group *ngIf="games">
    <mat-tab *ngFor="let game of objectKeys(games)" label="{{games[game].name}}">
      <h1>Results:</h1>
      <div *ngFor="let contest of contests">
        <div *ngIf="games[game].id===contest.gid" id="game-{{contest.id}}">
          <mat-grid-list cols="5" rowHeight="100px">
            <mat-grid-tile [colspan]="2">
                <div class="example-header-image" [style.background-image]="sanitazeUrl(contest.home.avatar_url)"></div>
                <mat-card-title>{{contest.home.name}}</mat-card-title>
            </mat-grid-tile>
            <mat-grid-tile [colspan]="1">
              <div *ngIf="contest.status==='PLAYED'">
                {{contest.result.home}}
              </div>
              :
              <div *ngIf="contest.status==='PLAYED'">
                {{contest.result.visitor}}
              </div>
            </mat-grid-tile>
            <mat-grid-tile [colspan]="2">
              <mat-card-header>
                <div mat-card-avatar class="example-header-image" [style.background-image]="sanitazeUrl(contest.visitor.avatar_url)"></div>
                <mat-card-title>{{contest.visitor.name}}</mat-card-title>
              </mat-card-header>
            </mat-grid-tile>
          </mat-grid-list>
          Comments: {{contest.comment}}
          <br>
          {{contest.id}}
          <br>
          <a (click)="goTo('game-' + contest.rematch)">Jump to rematch</a>
          <br>
          Scheduled: {{contest.scheduled|date:medium}}
          <br>
          Updated: {{contest.updated|date:medium}}
          <br>
          {{contest.status}}
          <div *ngIf="contest.status==='SCHEDULED'">
            <button mat-raised-button color="primary" (click)="postResult(games[game].id, contest.id)">Post result</button>
          </div>
          <div *ngIf="contest.status==='PLAYED'">
            <button mat-raised-button color="primary">Edit result</button>
          </div>
        </div>
      </div>
    </mat-tab>
  </mat-tab-group>
  <mat-card-actions>
    <!--button mat-button>LIKE</button>
    <button mat-button>SHARE</button-->
  </mat-card-actions>
</mat-card>
